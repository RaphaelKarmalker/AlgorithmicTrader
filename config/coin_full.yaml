# in here will be the yaml for the 14 day listing short strategy
strategy_path: "strategies.coin_full_strategy:CoinFullStrategy"
config_path: "strategies.coin_full_strategy:CoinFullConfig"

visualize: true
venue: "BINANCE"

# automatic import from csv:
instruments_from_path:
  path: "../data/DATA_STORAGE/project_future_scraper/new_binance_perpetual_futures.csv"
  symbol_column: "symbol"
  instrument_suffix: "-PERP"
  bar_type_endings:
    - "-15-MINUTE-LAST-EXTERNAL"
  trade_size_usdt: "150"
  test: 2

data_sources:
  # Standard Bar-Daten: nutzt automatisch alle bar_types aus den Instrumenten
  - data_cls: "nautilus_trader.model.data:Bar"
    instrument_ids: all
    bar_types: from_instruments

  # Custom MetricsData f√ºr alle Instrumente (client_id wird automatisch gesetzt)
  - data_cls: "data.download.crypto_downloads.custom_class.metrics_data:MetricsData"
    instrument_ids: all

# Backtest-Zeitraum
start_date: "2024-01-01T00:00:00Z"
end_date: "2024-01-28T00:00:00Z"

# Account/Venue-Parameter
starting_account_balance: "10000 USDT"
base_currency: "USDT"
account_type: "MARGIN"
oms_type: "NETTING"

# Risiko-Parameter (global)
trade_size_usdt: 1000
risk_percent: 0.01
max_leverage: 2
min_account_balance: 1000
close_positions_on_stop: [true]

# ===========================
# Strategie-spezifische Parameter
# ===========================

# ----------------------------------------------------------------
# stoploss settings
# ----------------------------------------------------------------
sl_atr_multiple: 2
atr_period: 14

# ----------------------------------------------------------------
# base filters
# ----------------------------------------------------------------
only_trade_rth: false

use_min_coin_filters:
  enabled: true
  min_price: 0.25
  min_24h_volume: 50000 # $50k minimum 24h volume
  min_sum_open_interest_value: 1000000  # $1M minimum open interest value 

use_directional_movement_filter:
  enabled: false
  period: 14
  min_di_diff: 0.02

use_htf_ema_bias_filter:
  enabled: false
  ema_period: 200

# ----------------------------------------------------------------
# exit methods
# ----------------------------------------------------------------
use_close_ema:
  enabled: true
  exit_trend_ema_period: 80
  min_bars_over_ema: 15
  min_bars_under_ema: 15

use_fixed_rr:
  enabled: false
  rr_tp_ratio: 1.5 # in relation to "exit methods"

use_rsi_as_exit:
  enabled: false
  rsi_period: 20
  rsi_exit_threshold: 0.5

use_topt_ratio_as_exit:
  enabled: false
  short_min_extreme_reversal_topt_longshortratio: 0.3 # Do professionally after base strat runs
  long_min_extreme_reversal_topt_longshortratio: 0.3

# ----------------------------------------------------------------
# entry methods
# ----------------------------------------------------------------
use_trend_following_setup:
  enabled: false
  entry_trend_ema_period: 40
  min_bars_under_ema: 20
  min_bars_over_ema: 20

use_spike_reversion_system:
  enabled: false
  reversion_ema_period: 25
  spike_atr_threshold: 0.4
  spike_atr_period: 10
  min_bars_spike_over_ema: 12
  min_bars_spike_under_ema: 12

use_rsi_simple_reversion_system:
  enabled: false
  rsi_period: 20
  rsi_overbought: 0.7
  rsi_oversold: 0.3 

use_macd_simple_reversion_system:
  enabled: false
  macd_fast_period: 10
  macd_slow_period: 32
  macd_signal_period: 10

use_aroon_simple_trend_system:
  enabled: true
  aroon_period: 30
  aroon_osc_long_threshold: 50
  aroon_osc_short_threshold: -50
